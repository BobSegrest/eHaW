<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eHaW Queue</title>
  	<link rel="stylesheet" href="./css/bootstrap.min.css">
    <script src="./js/bootstrap.bundle.min.js"></script>
    <meta http-equiv="refresh" content="30">
  </head>
  <body>
    <div class="container-fluid p-3 bg-primary text-white text-center">
        <h4>Emergency Health & Welfare Message Service</h4>
        <h1>Message Queue Status</h1>
        <h6> <%=eventTxt%> </h6>
        <form action="/" method="GET" align="left">
          <button type="submit" class="btn btn-primary text-white btn-lg" >Home</button>
        </form>
    </div>

    <div class="table-responsivive">
        <table id="msgTable" class="table table-striped table-bordered table-hover table-responsive">
            <tr>
                <th>Id</th>
                <th>Status</th>
                <th>From</th>
                <!--<th>To</th>-->
                <th>Message</th>
                <th>Updated</th>
                <th>Created</th>
            </tr>
            <%
            if(msgQueueData.length!=0){
            var i=1;
            msgQueueData.forEach(function(data){
            %>
            <tr>
                <td><%=data.msgId%></td>
                    <% if( data.msgStatus === "Submitted" ){ %>
                      <td class="bg-primary text-white">
                    <% } else if( data.msgStatus === "Accepted" ) { %>
                      <td class="bg-warning">
                    <% } else if( data.msgStatus === "Declined" ) { %>
                      <td class="bg-danger text=white">
                    <% } else if( data.msgStatus === "Sent" ) { %>
                      <td class="bg-success text-white">
                    <% } else { %>
                      <td>
                    <% } %>
                    <%=data.msgStatus%></td>
                <td><%=data.msgFrom%></td>
                <td><%=data.msgText%></td>
                <td><%=data.msgUpdate%></td>
                <td><%=data.msgCreate%></td>
            </tr>
            <% i++; }) %>
            <% } %>
        </table>
    </div>

</body>
</html>
